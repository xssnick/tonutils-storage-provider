package contract

import (
	"encoding/hex"
	"fmt"
	"github.com/xssnick/tonutils-go/address"
	"github.com/xssnick/tonutils-go/tvm/cell"
)

type Contract struct {
	Code    *cell.Cell
	Version int
}

var DiscoveryAddr = address.MustParseAddr("0QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcGJH5Lec")

var Codes = func() []*Contract {
	type codeType struct {
		Hex     string
		Version int
	}
	var codes = []codeType{
		{Version: 3, Hex: "b5ee9c7241021001000253000114ff00f4a413f4bcf2c80b01020120020f020148030e0202cd040d020120050a0201200609026d3b68bb7ec07434c0fe900c005c6c2497c0f83c004875d2708024c074c7e49c16388860840b9074eb2eb8c080700038c097c0e103fcbc20070800aa10235f03f841f2d193f8276f10821005f5e100bef2e0c8f842c000f2e0c9f843c200f2e0caf84601c705f2e0cbf848c000f2e0ccf849c000f2e0cdf847f003ed4420d765f869f900f868f823f843a0f862f002f00400aa20d749c0388e3fd71d378b764657374726f798c7058e2d31f846c705f2e191f004c8801001cb05f846cf1670fa027001cb6a8210bbe2782101cb1fc98100a0fb0830db31e030915be2820afaf080be92f004dedb31005f3b513434c0007e1874c7c07e18b4c7c07e18f4c7c07e197e80007e193e90007e19b5007e19f4ffc07e1a34c24c3e1a600201200b0c005b321c4072c03e108072c7fe10c072c7fe114072c7fe113e80be11b3c5be11c0733e120072fffe124072c2727b552000353434c148700600b00404ac7cb8193e900c35d2604042eebcb81960006fd64400800e582c18480e5854108383123f200e5ffc10407a1207d013800e5b541086813f7f280e58ffc2400e5fffc2480e584e4b8fd841840041a060b7e003f08fa1020223ae43f40061f04ede21f088254143f085f089f086826100c2f2f001d31f0182102114702dbaf823f842beb08e49fa4021d70b0a8309baf2e190d31f31d1f800f823f843a0f862f002f844c2008e1fc8801001cb0501cf16f844fa027001cb6a82102e04891a01cb1fc973fb08309130e2f84773fb08309130e23af1231a"},
		{Version: 2, Hex: "b5ee9c7241021001000250000114ff00f4a413f4bcf2c80b01020120020f020148030e0202cd040d020120050a0201200609026d3b68bb7ec07434c0fe900c005c6c2497c0f83c004875d2708024c074c7e49c16388860840b9074eb2eb8c080700038c097c0e103fcbc20070800aa10235f03f841f2d193f8276f10821005f5e100bef2e0c8f842c000f2e0c9f843c200f2e0caf84601c705f2e0cbf848c000f2e0ccf849c000f2e0cdf847f003ed4420d765f869f900f868f823f843a0f862f002f00400aa20d749c0388e3fd71d378b764657374726f798c7058e2d31f846c705f2e191f004c8801001cb05f846cf1670fa027001cb6a8210bbe2782101cb1fc98100a0fb0830db31e030915be2820afaf080be92f004dedb31005f3b513434c0007e1874c7c07e18b4c7c07e18f4c7c07e197e80007e193e90007e19b5007e19f4ffc07e1a34c24c3e1a600201200b0c005b321c4072c03e108072c7fe10c072c7fe114072c7fe113e80be11b3c5be11c0733e120072fffe124072c2727b552000353434c148700600b00404ac7cb8193e900c35d2604042eebcb81960006fd64400800e582c18480e5854108383123f200e5ffc10407a1207d013800e5b541086813f7f280e58ffc2400e5fffc2480e584e4b8fd841840041a060b7e003f08fa1020223ae43f40061f04ede21f088254143f085f089f086826100bcf2f001d31f0182102114702dbaf823f842beb08e46fa403020d70b0a8309baf2e190f800f823f843a0f862f002f844c2008e1fc8801001cb0501cf16f844fa027001cb6a82102e04891a01cb1fc973fb08309130e2f84773fb08309130e2505b5d45"},
		{Version: 1, Hex: "b5ee9c7241021001000281000114ff00f4a413f4bcf2c80b01020120020f020148030e0202cd040d020120050a0201200609026d3b68bb7ec07434c0fe900c005c6c2497c0f83c004875d2708024c074c7e49c16388860840b9074eb2eb8c080700038c097c0e103fcbc20070800aa10235f03f841f2d193f8276f10821005f5e100bef2e0c8f842c000f2e0c9f843c200f2e0caf84601c705f2e0cbf848c000f2e0ccf849c000f2e0cdf847f003ed4420d765f869f900f868f823f843a0f862f002f00400aa20d749c0388e3fd71d378b764657374726f798c7058e2d31f846c705f2e193f004c8801001cb05f846cf1670fa027001cb6a8210bbe2782101cb1fc98100a0fb0830db31e030915be2820afaf080be92f004dedb31005f3b513434c0007e1874c7c07e18b4c7c07e18f4c7c07e197e80007e193e90007e19b5007e19f4ffc07e1a34c24c3e1a600201200b0c005b321c4072c03e108072c7fe10c072c7fe114072c7fe113e80be11b3c5be11c0733e120072fffe124072c2727b552000973434c148700600b00404ac7cb8193e900075d2604042eebcb8197e800c74da0070003cb819b480006387bd010c081bbcb419f40835d2c07001407000ac3cb81a35c2c13001bcb81a644c38a0006fd64400800e582c18480e5854108383123f200e5ffc10407a1207d013800e5b541086813f7f280e58ffc2400e5fffc2480e584e4b8fd841840041a19c9be003f08fa1020223ae43f40061f04ede21f088254143f085f089f086826100bcf2f001d31f0182102114702dbaf823f842beb08e46fa403020d70b0a8309baf2e190f800f823f843a0f862f002f844c2008e1fc8801001cb0501cf16f844fa027001cb6a82102e04891a01cb1fc973fb08309130e2f84773fb08309130e21caf7262"},
		{Version: 0, Hex: "b5ee9c724102100100027a000114ff00f4a413f4bcf2c80b01020120020f020148030e0202cd040d020120050a0201200609026d3b68bb7ec07434c0fe900c005c6c2497c0f83c004875d2708024c074c7e49c16388860840b9074eb2eb8c080700038c097c0e103fcbc20070800aa10235f03f841f2d193f8276f10821005f5e100bef2e0c8f842c000f2e0c9f843c200f2e0caf84601c705f2e0cbf848c000f2e0ccf849c000f2e0cdf847f003ed4420d765f869f900f868f823f843a0f862f002f00400aa20d749c0388e3fd71d378b764657374726f798c7058e2d31f846c705f2e193f004c8801001cb05f846cf1670fa027001cb6a8210bbe2782101cb1fc98100a0fb0830db31e030915be2820afaf080be92f004dedb31005f3b513434c0007e1874c7c07e18b4c7c07e18f4c7c07e197e80007e193e90007e19b5007e19f4ffc07e1a34c24c3e1a600201200b0c005b321c4072c03e108072c7fe10c072c7fe114072c7fe113e80be11b3c5be11c0733e120072fffe124072c2727b552000973434c148700600b00404ac7cb8193e900075d2604042eebcb8197e800c74da0070003cb819b480006387bd010c081bbcb419f40835d2c07001407000ac3cb81a35c2c13001bcb81a644c38a00075d64400800e582ba00e5813800e583c108383123f200e5ffc10407a1207d013800e5b541086813f7f280e58ffc2400e5fffc2480e584e4b8fd841840041a02c15e003f08fa1020223ae43f40061f04ede21f088254143f085f089f086826100a8f2f001d31f0182102114702dbaf823f842beb08e3cfa4030f800f823f843a0f862f002f844c2008e1fc8801001cb0501cf16f844fa027001cb6a82102e04891a01cb1fc973fb08309130e2f84773fb08309130e2270bd49b"},
		{Version: 0, Hex: "b5ee9c7241021001000276000114ff00f4a413f4bcf2c80b01020120020f020148030e0202cd040d020120050a0201200609026d3b68bb7ec07434c0fe900c005c6c2497c0f83c004875d2708024c074c7e49c16388860840b9074eb2eb8c080700038c097c0e103fcbc20070800aa10235f03f841f2d193f8276f10821005f5e100bef2e0c8f842c000f2e0c9f843c200f2e0caf84601c705f2e0cbf848c000f2e0ccf849c000f2e0cdf847f003ed4420d765f869f900f868f823f843a0f862f002f00400aa20d749c0388e3fd71d378b764657374726f798c7058e2d31f846c705f2e193f004c8801001cb05f846cf1670fa027001cb6a8210bbe2782101cb1fc98100a0fb0830db31e030915be2820afaf080be92f004dedb31005f3b513434c0007e1874c7c07e18b4c7c07e18f4c7c07e197e80007e193e90007e19b5007e19f4ffc07e1a34c24c3e1a600201200b0c005b321c4072c03e108072c7fe10c072c7fe114072c7fe113e80be11b3c5be11c0733e120072fffe124072c2727b552000973434c148700600b00404ac7cb8193e900075d2604042eebcb8197e800c74da0070003cb819b480006387bd010c081bbcb419f40835d2c07001407000ac3cb81a35c2c13001bcb81a644c38a0006dd64400800e582ba00e5813800e583c108383123f200e5ffb87d013800e5b541086813f7f280e58ffc2400e5fffc2480e584e4b8fd841840041a02c15e003f08fa1020223ae43f40061f04ede21f088254143f085f089f086826100a8f2f001d31f0182102114702dbaf823f842beb08e3cfa4030f800f823f843a0f862f002f844c2008e1fc8801001cb0501cf16f844fa027001cb6a82102e04891a01cb1fc973fb08309130e2f84773fb08309130e23b048606"},
	}

	var res []*Contract
	for _, code := range codes {
		b, err := hex.DecodeString(code.Hex)
		if err != nil {
			panic(fmt.Errorf("failed to parse cron contract code hex: %w", err))
		}

		c, err := cell.FromBOC(b)
		if err != nil {
			panic(fmt.Errorf("failed to parse cron contract code: %w", err))
		}
		res = append(res, &Contract{
			Code:    c,
			Version: code.Version,
		})
	}

	return res
}()
